@using Namezr.Features.Questionnaires.Data
@using Namezr.Client.Shared

@if (Entry == null)
{
    return;
}

<div class="d-flex gap-3 flex-wrap">
    <div class="d-flex gap-2">
        <HxIcon Icon="Icon"/>

        <div>
            <SubmissionHistoryEntryInstigator Entry="Entry"/>

            @switch (Entry)
            {
                case SubmissionHistoryFileDownloadedEntity fileDownloaded:
                    <span>
                        downloaded <i>Character bin</i>
                    </span>
                    break;
            }

        </div>

        <div class="d-flex flex-grow-1">
            <div class="flex-grow-1"></div>
            <div>
                <RelativeTime Value="Entry.OccuredAt"/>
            </div>
        </div>
    </div>
</div>

@code {

    [Parameter]
    public SubmissionHistoryEntryEntity? Entry { get; set; }

    private BootstrapIcon? Icon => Entry switch
    {
        SubmissionHistoryFileDownloadedEntity => BootstrapIcon.Download,
        // TODO: rest

        _ => null,
    };

}